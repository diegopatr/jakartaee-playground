<!DOCTYPE html>
<html xmlns:ui="jakarta.faces.facelets"
      xmlns:f="jakarta.faces.core"
      xmlns:h="jakarta.faces.html"
      lang="en">

<h:head>
    <title>Jakarta EE Playground</title>
</h:head>

<h:body>
    <h1>Jakarta EE Playground</h1>
    <h3>${helloJakartaBean.message}</h3>
    <h:form>
        <h:outputLabel for="name" value="Enter your name: "/>
        <h:inputText id="name" value="#{greetingBean.name}" required="true"/>
        <h:commandButton value="Submit"
                         action="#{greetingBean.sayHello}">
            <f:ajax execute="@form" render="output output-fragment"/>
        </h:commandButton>
    </h:form>
    <h:panelGroup id="output" layout="block">
        <p>Message: <h:outputText id="message" value="#{greetingBean.message}"
                                  rendered="#{not empty greetingBean.message}"/></p>
        <p>Bean: <h:outputText id="bean" value="#{greetingBean}"/></p>
    </h:panelGroup>

    <ui:fragment id="output-fragment" rendered="${not empty greetingBean.message}">
        <p>Message: <h:outputText id="message-fragment" value="#{greetingBean.message}"
                                  rendered="#{not empty greetingBean.message}"/></p>
        <p>Bean: <h:outputText id="bean-fragment" value="#{greetingBean}"/></p>
    </ui:fragment>
</h:body>

</html>
